
<% @page_title = params[:username] + ": Edit" %>

<div class="row">
  <div class="col">
    <h2>Edit Profile</h2>
    <div class="container form-container">
      <%= form_with model: @user, url: user_path(@user.username), local: true do |f| %>
      <%= render 'shared/error_messages', errors: flash[:errors] %>
        <div class="form-group">
          <%= f.label :username %>
          <%= f.text_field :username, value: @user.username, autofocus: true, class: "form-control" %>
        </div>
        <div class="form-group">
          <%= f.label :email %>
          <%= f.text_field :email, value: @user.email, class: "form-control" %>
        </div>
        <div class="form-group">
          <%= f.submit "Update", class: "btn btn-primary" %>
        </div>
      <% end %>
    </div>
  </div>
  <div class="col">
    <h2>Change Password</h2>
    <div class="container form-container">
      <%= form_for :new_password, url: user_path(@user.username), local: true do |f| %>
      <%= render 'shared/error_messages', errors: flash[:pass_errors] %>
        <div class="form-group">
          <%= f.label :current_password %>
          <%= f.text_field :current_password, type: :password, class: "form-control" %>
        </div>
        <div class="form-group">
          <%= f.label :new_password %>
          <%= f.text_field :new_password, type: :password, class: "form-control" %>
        </div>
        <div class="form-group">
          <%= f.label :new_password_confirmation %>
          <%= f.text_field :new_password_confirmation, type: :password, class: "form-control" %>
        </div>
        <div class="form-group">
          <%= f.submit "Change", class: "btn btn-primary" %>
        </div>
      <% end %>
    </div>
  </div>
</div>